<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ include file="../include/includefile.jsp" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- 댓글 리스트 템플릿 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
<script id="replylist_template" type="text/x-handlebars-template">
	 {{#each .}}
     <table>
		<hr>
		
		<table border="1">
		<tr>
			<td colspan="2">
				<button class="btnreplike">좋아요</button> : <span class="replikecnt">{{likecnt}}</span>
				<button class="btnreptislike">싫어요</button> : <span class="repdislikecnt">{{dislikecnt}}</span>
			</td>
		</tr>
		<tr>
			<th>작성자</th>
			<td><input type="text" class="repuserid" readonly value="{{userid}}"></td>
		</tr>
		<tr>
			<th>내용</th>
			<td><textarea rows="3" cols="20" id="repcontent{{rnum}}">{{content}}</textarea></td>
		</tr>
		<tr>
			<th>등록일자</th>
			<td><input type="text" class="repregdate" value="{{regdate}}"></td>
		</tr>
		<tr>
			<th>수정일자</th>
			<td><input type="text" class="repmodifydate" value="{{modifydate}}"></td>
		</tr>
		<tr>
			<td colspan="4" align="center"> 
				<input type="hidden" class="rnum" value="{{rnum}}">
				<input type="hidden" class="restep" value="{{restep}}">
				<input type="hidden" class="relevel" value="{{relevel}}">
				<button class ="btnrepupdate" value="{{userid}}">수정</button>
				<button class="btnrepdelete" value="{{userid}}">삭제</button>
				<button class="btnrepadd">댓글</button>
			</td>
		</tr>
     </table>
     {{/each}}
</script>
<script type="text/javascript" src="${psth}/resources/js/reply.js"></script>


</head>
<body>	
	세션 ${sessionScope.userid} <br>
	좋아요 구분 : ${bfmap.board.LIKEGUBUN}
	<h2>상세 조회</h2>
	순번 : <a >${bfmap.board.BNUM}</a> <br>
	조회수 : ${bfmap.board.READCNT} <br>
	<button id="btnlike">좋아요</button> : <span id="likecnt">${bfmap.board.LIKECNT}</span>
	<button id="btntislike">싫어요</button> : <span id="dislikecnt">${bfmap.board.DISLIKECNT}</span> <br>
	작성일 : <fmt:formatDate value="${bfmap.board.REGDATE}" pattern="yyyy-MM-dd HH:mm" /> <br>
	최근수정일 : <fmt:formatDate value="${bfmap.board.MODIFYDATE}" pattern="yyyy-MM-dd HH:mm" /> <br>
	작성자 : ${bfmap.board.USERID} <br>
	제목 : ${bfmap.board.SUBJECT} <br>
	내용 : <textarea rows="5" cols="10" name="content" id="content">${bfmap.board.CONTENT}</textarea><br>

	파일 : 
	<c:forEach var="file" items="${bfmap.bflist}">
		<img alt="사진" src="${path}/uploadimg/${file.filename}" width="100">
	</c:forEach>
	<button>수정</button>
	<button>삭제</button>
	<button id="btnrepadd">댓글</button>
	<hr id="rep0">
	<!-- 댓글 추가 -->
	<h3>댓글</h3>
	<div id="replyadd" >
		<!-- 글 순서 --><input type="hidden" id="restep" value="0">
		<!-- 글 순서 --><input type="hidden" id="relevel" value="0">
		작성자 : <input type="text" id="repuserid" readonly value="www"> <br>
		내용 : <textarea rows="3" cols="20" id="repcontent"></textarea>
		<button id="btnrepsave">저장</button>
		<button type="reset">취소</button>
	</div>
	<!-- 댓글 리스트 -->
	<%-- ${replylist} --%>
	<div id="replist">
		
		
	</div>
	
	
	
	
	
	
</body>
</html>